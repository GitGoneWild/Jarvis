<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'">
  <title>Jarvis - Personal Productivity</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="dark-theme">
  <div class="app-container">
    <!-- Custom App Bar (Title Bar) -->
    <header class="app-bar" id="appBar">
      <div class="app-bar-drag-region">
        <div class="app-bar-left">
          <svg class="app-bar-logo" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            <circle cx="12" cy="12" r="4" fill="currentColor"/>
            <path d="M12 2V6M12 18V22M2 12H6M18 12H22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span class="app-bar-title">Jarvis</span>
        </div>
      </div>
      <div class="app-bar-controls" id="windowControls">
        <button class="app-bar-btn" id="minimizeBtn" aria-label="Minimize">
          <svg viewBox="0 0 12 12">
            <rect y="5" width="12" height="2" fill="currentColor"/>
          </svg>
        </button>
        <button class="app-bar-btn" id="maximizeBtn" aria-label="Maximize">
          <svg viewBox="0 0 12 12" id="maximizeIcon">
            <rect x="1" y="1" width="10" height="10" stroke="currentColor" stroke-width="1.5" fill="none"/>
          </svg>
          <svg viewBox="0 0 12 12" id="restoreIcon" style="display: none;">
            <rect x="3" y="0" width="9" height="9" stroke="currentColor" stroke-width="1.5" fill="none"/>
            <rect x="0" y="3" width="9" height="9" stroke="currentColor" stroke-width="1.5" fill="var(--bg-secondary)"/>
          </svg>
        </button>
        <button class="app-bar-btn close-btn" id="closeBtn" aria-label="Close">
          <svg viewBox="0 0 12 12">
            <path d="M1 1L11 11M1 11L11 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </header>

    <div class="app-body">
      <!-- Sidebar Navigation -->
      <nav class="sidebar" id="sidebar" aria-label="Main navigation">
        <div class="sidebar-header">
          <div class="logo">
            <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
              <circle cx="12" cy="12" r="4" fill="currentColor"/>
              <path d="M12 2V6M12 18V22M2 12H6M18 12H22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span class="logo-text">Jarvis</span>
          </div>
          <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle sidebar" aria-expanded="true" aria-controls="sidebar">
            <svg class="toggle-open" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M11 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <svg class="toggle-closed" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M13 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        
        <ul class="nav-list" role="menubar">
          <li class="nav-item active" data-section="home" role="menuitem" tabindex="0" aria-label="Home">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" stroke-linecap="round" stroke-linejoin="round"/>
              <polyline points="9,22 9,12 15,12 15,22" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="nav-label">Home</span>
          </li>
          <li class="nav-item" data-section="tasks" role="menuitem" tabindex="0" aria-label="Tasks">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 11l3 3L22 4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="nav-label">Tasks</span>
          </li>
          <li class="nav-item" data-section="calendar" role="menuitem" tabindex="0" aria-label="Calendar">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke-linecap="round" stroke-linejoin="round"/>
              <line x1="16" y1="2" x2="16" y2="6" stroke-linecap="round"/>
              <line x1="8" y1="2" x2="8" y2="6" stroke-linecap="round"/>
              <line x1="3" y1="10" x2="21" y2="10" stroke-linecap="round"/>
            </svg>
            <span class="nav-label">Calendar</span>
          </li>
          <li class="nav-item" data-section="settings" role="menuitem" tabindex="0" aria-label="Settings">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="3"/>
              <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/>
            </svg>
            <span class="nav-label">Settings</span>
          </li>
        </ul>
      </nav>

      <!-- Main Content Area -->
      <main class="main-content">
        <!-- Home Section -->
        <section class="content-section active" id="home-section">
          <div class="section-header">
            <h1>Welcome to Jarvis</h1>
            <p class="subtitle">Your personal productivity dashboard</p>
          </div>
          
          <div class="dashboard">
            <!-- Quick Actions -->
            <div class="dashboard-card quick-actions">
              <h3 class="card-title">Quick Actions</h3>
              <div class="quick-action-buttons">
                <button class="quick-action-btn" id="quickAddTask">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 5v14M5 12h14" stroke-linecap="round"/>
                  </svg>
                  <span>Add Task</span>
                </button>
                <button class="quick-action-btn" id="quickAddEvent">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="4" width="18" height="18" rx="2"/>
                    <path d="M12 9v6M9 12h6" stroke-linecap="round"/>
                  </svg>
                  <span>Add Event</span>
                </button>
                <button class="quick-action-btn" id="goToToday">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="4" width="18" height="18" rx="2"/>
                    <line x1="3" y1="10" x2="21" y2="10"/>
                    <circle cx="12" cy="16" r="2" fill="currentColor"/>
                  </svg>
                  <span>Today's Calendar</span>
                </button>
              </div>
            </div>

            <!-- Today's Overview -->
            <div class="dashboard-card today-overview">
              <h3 class="card-title">Today's Overview</h3>
              <div class="today-date" id="todayDate"></div>
              <div class="today-stats">
                <div class="stat-item">
                  <span class="stat-value" id="tasksToday">0</span>
                  <span class="stat-label">Tasks Due</span>
                </div>
                <div class="stat-item">
                  <span class="stat-value" id="eventsToday">0</span>
                  <span class="stat-label">Events</span>
                </div>
                <div class="stat-item overdue">
                  <span class="stat-value" id="overdueCount">0</span>
                  <span class="stat-label">Overdue</span>
                </div>
              </div>
            </div>

            <!-- Upcoming Tasks -->
            <div class="dashboard-card upcoming-tasks">
              <div class="card-header">
                <h3 class="card-title">Upcoming Tasks</h3>
                <button class="see-all-btn" data-navigate="tasks">See All</button>
              </div>
              <div class="task-list-preview" id="upcomingTasksList">
                <div class="empty-state">
                  <p>No upcoming tasks</p>
                </div>
              </div>
            </div>

            <!-- Upcoming Events -->
            <div class="dashboard-card upcoming-events">
              <div class="card-header">
                <h3 class="card-title">Upcoming Events</h3>
                <button class="see-all-btn" data-navigate="calendar">See All</button>
              </div>
              <div class="events-list-preview" id="upcomingEventsList">
                <div class="empty-state">
                  <p>No upcoming events</p>
                </div>
              </div>
            </div>

            <!-- Birthdays -->
            <div class="dashboard-card birthdays">
              <div class="card-header">
                <h3 class="card-title">ðŸŽ‚ Birthdays This Week</h3>
              </div>
              <div class="birthdays-list" id="birthdaysList">
                <div class="empty-state">
                  <p>No birthdays this week</p>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Tasks Section -->
        <section class="content-section" id="tasks-section">
          <div class="section-header">
            <h1>Tasks</h1>
            <p class="subtitle">Manage your to-do list</p>
          </div>
          
          <div class="tasks-container">
            <div class="tasks-toolbar">
              <button class="primary-btn" id="addTaskBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 5v14M5 12h14" stroke-linecap="round"/>
                </svg>
                Add Task
              </button>
              <div class="tasks-filter">
                <select id="taskFilter" aria-label="Filter tasks">
                  <option value="all">All Tasks</option>
                  <option value="pending">Pending</option>
                  <option value="completed">Completed</option>
                  <option value="overdue">Overdue</option>
                </select>
                <select id="taskSort" aria-label="Sort tasks">
                  <option value="dueDate">Sort by Due Date</option>
                  <option value="priority">Sort by Priority</option>
                  <option value="createdAt">Sort by Created</option>
                </select>
              </div>
            </div>
            
            <div class="task-list" id="taskList">
              <div class="empty-state">
                <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M9 11l3 3L22 4"/>
                  <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/>
                </svg>
                <p>No tasks yet</p>
                <span>Click "Add Task" to create your first task</span>
              </div>
            </div>
          </div>
        </section>

        <!-- Calendar Section -->
        <section class="content-section" id="calendar-section">
          <div class="section-header">
            <h1>Calendar</h1>
            <p class="subtitle">Your events and schedule</p>
          </div>
          
          <div class="calendar-container">
            <div class="calendar-toolbar">
              <button class="primary-btn" id="addEventBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 5v14M5 12h14" stroke-linecap="round"/>
                </svg>
                Add Event
              </button>
              <div class="calendar-nav">
                <button class="nav-btn" id="prevMonth" aria-label="Previous month">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M15 18l-6-6 6-6" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <span class="current-month" id="currentMonth"></span>
                <button class="nav-btn" id="nextMonth" aria-label="Next month">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 18l6-6-6-6" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <button class="today-btn" id="todayBtn">Today</button>
              </div>
            </div>

            <div class="calendar-grid-container">
              <div class="calendar-weekdays">
                <span>Sun</span>
                <span>Mon</span>
                <span>Tue</span>
                <span>Wed</span>
                <span>Thu</span>
                <span>Fri</span>
                <span>Sat</span>
              </div>
              <div class="calendar-grid" id="calendarGrid"></div>
            </div>

            <div class="day-events-panel" id="dayEventsPanel">
              <h3 id="selectedDateTitle">Select a day to view events</h3>
              <div class="day-events-list" id="dayEventsList"></div>
            </div>
          </div>
        </section>

        <!-- Settings Section -->
        <section class="content-section" id="settings-section">
          <div class="section-header">
            <h1>Settings</h1>
            <p class="subtitle">Customize your experience</p>
          </div>
          
          <div class="settings-panel">
            <div class="settings-group">
              <h3 class="settings-group-title">Appearance</h3>
              
              <div class="setting-item">
                <div class="setting-info">
                  <label for="themeSelect">Theme</label>
                  <span class="setting-description">Choose your preferred color scheme</span>
                </div>
                <select id="themeSelect" class="setting-select">
                  <option value="dark">Dark</option>
                  <option value="light">Light</option>
                  <option value="system">System</option>
                </select>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <label for="sidebarToggleSetting">Sidebar Expanded by Default</label>
                  <span class="setting-description">Keep sidebar expanded on app start</span>
                </div>
                <label class="toggle-switch">
                  <input type="checkbox" id="sidebarToggleSetting" checked>
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <label for="startPageSelect">Default Start Page</label>
                  <span class="setting-description">Page to show when app opens</span>
                </div>
                <select id="startPageSelect" class="setting-select">
                  <option value="home">Home</option>
                  <option value="tasks">Tasks</option>
                  <option value="calendar">Calendar</option>
                  <option value="settings">Settings</option>
                </select>
              </div>
            </div>

            <div class="settings-group">
              <h3 class="settings-group-title">Notifications</h3>
              
              <div class="setting-item">
                <div class="setting-info">
                  <label for="notificationsEnabled">Enable Notifications</label>
                  <span class="setting-description">Receive alerts and reminders</span>
                </div>
                <label class="toggle-switch">
                  <input type="checkbox" id="notificationsEnabled" checked>
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <label for="soundsEnabled">Sound Effects</label>
                  <span class="setting-description">Play sounds for notifications</span>
                </div>
                <label class="toggle-switch">
                  <input type="checkbox" id="soundsEnabled" checked>
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <label for="taskReminders">Task Reminders</label>
                  <span class="setting-description">Get reminded about due tasks</span>
                </div>
                <label class="toggle-switch">
                  <input type="checkbox" id="taskReminders" checked>
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <label for="eventReminders">Event Reminders</label>
                  <span class="setting-description">Get reminded about upcoming events</span>
                </div>
                <label class="toggle-switch">
                  <input type="checkbox" id="eventReminders" checked>
                  <span class="toggle-slider"></span>
                </label>
              </div>
            </div>

            <div class="settings-group">
              <h3 class="settings-group-title">About</h3>
              <div class="about-info">
                <p><strong>Jarvis</strong> - Personal Productivity App</p>
                <p class="version">Version 1.0.0</p>
                <p class="copyright">Built with Electron</p>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- Task Modal -->
  <div class="modal-overlay" id="taskModal">
    <div class="modal" role="dialog" aria-labelledby="taskModalTitle">
      <div class="modal-header">
        <h2 id="taskModalTitle">Add Task</h2>
        <button class="modal-close" id="closeTaskModal" aria-label="Close">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <form class="modal-form" id="taskForm">
        <input type="hidden" id="taskId">
        <div class="form-group">
          <label for="taskTitle">Title *</label>
          <input type="text" id="taskTitle" required placeholder="Enter task title">
        </div>
        <div class="form-group">
          <label for="taskDescription">Description</label>
          <textarea id="taskDescription" rows="3" placeholder="Enter task description"></textarea>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="taskDueDate">Due Date</label>
            <input type="date" id="taskDueDate">
          </div>
          <div class="form-group">
            <label for="taskPriority">Priority</label>
            <select id="taskPriority">
              <option value="low">Low</option>
              <option value="medium" selected>Medium</option>
              <option value="high">High</option>
            </select>
          </div>
        </div>
        <div class="modal-actions">
          <button type="button" class="secondary-btn" id="cancelTaskBtn">Cancel</button>
          <button type="submit" class="primary-btn">Save Task</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Event Modal -->
  <div class="modal-overlay" id="eventModal">
    <div class="modal" role="dialog" aria-labelledby="eventModalTitle">
      <div class="modal-header">
        <h2 id="eventModalTitle">Add Event</h2>
        <button class="modal-close" id="closeEventModal" aria-label="Close">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <form class="modal-form" id="eventForm">
        <input type="hidden" id="eventId">
        <div class="form-group">
          <label for="eventTitle">Title *</label>
          <input type="text" id="eventTitle" required placeholder="Enter event title">
        </div>
        <div class="form-group">
          <label for="eventDescription">Description</label>
          <textarea id="eventDescription" rows="3" placeholder="Enter event description"></textarea>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="eventDate">Date *</label>
            <input type="date" id="eventDate" required>
          </div>
          <div class="form-group">
            <label for="eventType">Type</label>
            <select id="eventType">
              <option value="event">Event</option>
              <option value="meeting">Meeting</option>
              <option value="birthday">Birthday</option>
              <option value="reminder">Reminder</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="eventStartTime">Start Time</label>
            <input type="time" id="eventStartTime">
          </div>
          <div class="form-group">
            <label for="eventEndTime">End Time</label>
            <input type="time" id="eventEndTime">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="eventRecurring">
              <input type="checkbox" id="eventRecurring">
              Recurring (yearly)
            </label>
          </div>
          <div class="form-group">
            <label for="eventReminder">Reminder</label>
            <select id="eventReminder">
              <option value="none">None</option>
              <option value="on-time">On time</option>
              <option value="10-minutes">10 minutes before</option>
              <option value="1-hour">1 hour before</option>
              <option value="1-day">1 day before</option>
            </select>
          </div>
        </div>
        <div class="modal-actions">
          <button type="button" class="secondary-btn" id="cancelEventBtn">Cancel</button>
          <button type="submit" class="primary-btn">Save Event</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Notification Toast -->
  <div class="toast-container" id="toastContainer"></div>

  <script src="../../dist/renderer/renderer.js"></script>
</body>
</html>
